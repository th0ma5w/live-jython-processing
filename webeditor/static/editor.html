<html>
<head>
<script src="/static/cm/js/codemirror.js"></script> 
<script src="jquery-1.3.2.js" type="text/javascript"></script>
</head>
<body>
<div style="border: 1px solid black; padding: 0px;"> 
<textarea id="code" cols="100" rows="30" style="width:100%"> 

"""python"""

</textarea> 
<div class="content"> 
<p>
<a href="javascript:goAndDoSubmit()">Submit</a><br />
</p>
</div><!--
<textarea id="eval" cols="100" rows="1" style="width:100%">2+2</textarea> 
<a href="javascript:evalAndDoSubmit()">Submit</a><br />
-->
<script>
    var editor = CodeMirror.fromTextArea('code', {
        parserfile: ["../contrib/python/js/parsepython.js"],
        stylesheet: "/static/cm/contrib/python/css/pythoncolors.css",
        path: "/static/cm/js/",
        lineNumbers: false,
        textWrapping: false,
        indentUnit: 4,
        parserConfig: {'pythonVersion': 2, 'strictErrors': true}
    });
/*
    var evaluator = CodeMirror.fromTextArea('eval', {
        parserfile: ["../contrib/python/js/parsepython.js"],
        stylesheet: "/static/cm/contrib/python/css/pythoncolors.css",
        path: "/static/cm/js/",
        lineNumbers: false,
        textWrapping: false,
        indentUnit: 4,
        parserConfig: {'pythonVersion': 2, 'strictErrors': true}
    });
*/
goAndDoSubmit = function(){
	$.post("/go",{code: editor.getCode()});
}
evalAndDoSubmit = function(){
	$.post("/eval",{code: $('eval').innerHTML});
}

</script>

<iframe src="/lastMessage" width="100%" height="100">

</body>
</html>
